[gd_scene load_steps=16 format=3 uid="uid://ddn3gi1k5ock8"]

[ext_resource type="Script" path="res://Player/player.gd" id="1_wxbg3"]
[ext_resource type="Script" path="res://Player/shoot_comp.gd" id="2_83cah"]
[ext_resource type="Script" path="res://Player/camera_control.gd" id="2_bbeqo"]
[ext_resource type="Script" path="res://Player/hackHandler.gd" id="2_ymp2e"]
[ext_resource type="Script" path="res://Player/gun_handler.gd" id="4_tf13n"]
[ext_resource type="Script" path="res://Player/movement.gd" id="4_vms48"]
[ext_resource type="PackedScene" uid="uid://bkwu42a4cxmea" path="res://scenes/gunstetstscn.tscn" id="5_pesc3"]
[ext_resource type="ArrayMesh" uid="uid://4rqva555ov36" path="res://assets/trainParts/gcWindow.obj" id="6_voldu"]
[ext_resource type="AudioStream" uid="uid://cub4r1qkyrrr6" path="res://audio/583079__breviceps__file-select-metallic-wet-hollow.wav" id="9_mdjvc"]
[ext_resource type="AudioStream" uid="uid://wtummj1l2pp4" path="res://audio/dink.wav" id="10_nyx0g"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_psx23"]

[sub_resource type="PlaceholderMesh" id="PlaceholderMesh_1b80v"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_r72x2"]
albedo_color = Color(0.359069, 0.359069, 0.359069, 1)
metallic = 0.23
metallic_specular = 0.81
roughness = 0.61
emission_energy_multiplier = 2.52
rim_tint = 0.49

[sub_resource type="SphereShape3D" id="SphereShape3D_05071"]
radius = 50.0

[sub_resource type="BoxShape3D" id="BoxShape3D_8vi05"]
size = Vector3(100, 100, 50)

[node name="Player" type="CharacterBody3D" groups=["Player"]]
script = ExtResource("1_wxbg3")

[node name="ColliderBody" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_psx23")

[node name="Movement" type="Node3D" parent="."]
script = ExtResource("4_vms48")

[node name="ShootComp" type="Node3D" parent="."]
script = ExtResource("2_83cah")

[node name="gunHandler" type="Node3D" parent="."]
script = ExtResource("4_tf13n")

[node name="HackHandler" type="Node3D" parent="."]
script = ExtResource("2_ymp2e")

[node name="swapSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_mdjvc")
volume_db = 7.0

[node name="Dink" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_nyx0g")
volume_db = 5.0

[node name="XPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.74604, 0)
script = ExtResource("2_bbeqo")

[node name="Camera3D" type="Camera3D" parent="XPivot"]
transform = Transform3D(1, 0, 0, 0, 0.666667, 0.00033926, 0, -0.00050889, 1, 0, 0, 0)
fov = 90.0

[node name="socket" type="MeshInstance3D" parent="XPivot/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 1.16415e-10, 0, 5.82077e-11, 1, 0.4, -0.25, -0.7)
mesh = SubResource("PlaceholderMesh_1b80v")

[node name="MeshInstance3D2" parent="XPivot/Camera3D/socket" instance=ExtResource("5_pesc3")]
transform = Transform3D(-2.18557e-09, 0, 0.05, 0, 0.05, 0, -0.05, 0, -2.18557e-09, 0, 0, 0)
visible = false
skeleton = NodePath("../..")

[node name="shield" type="MeshInstance3D" parent="XPivot/Camera3D/socket"]
unique_name_in_owner = true
transform = Transform3D(-0.258819, 0, 0.965926, 0, 1, 0, -0.965926, 0, -0.258819, -0.953894, -0.783649, -0.22008)
mesh = ExtResource("6_voldu")
surface_material_override/0 = SubResource("StandardMaterial3D_r72x2")

[node name="EnemyDetection" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0.000763334, 0, -0.000763334, 1, 0, 1.74604, 0)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="EnemyDetection"]
transform = Transform3D(1, 0, 0, 0, 1.00001, 0, 0, 0, 1.00001, 0, 0, 0)
shape = SubResource("SphereShape3D_05071")
disabled = true

[node name="CollisionShape3D2" type="CollisionShape3D" parent="EnemyDetection"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -25)
shape = SubResource("BoxShape3D_8vi05")

[connection signal="body_entered" from="EnemyDetection" to="HackHandler" method="_on_enemy_detection_body_entered"]
[connection signal="body_exited" from="EnemyDetection" to="HackHandler" method="_on_enemy_detection_body_exited"]
